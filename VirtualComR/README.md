# VirtualComR - Эмулятор устройства COM-порта

Это приложение эмулирует устройство, подключенное к последовательному COM-порту. 
Оно позволяет выбрать порт из доступных, настроить его параметры и обрабатывать запросы, 
отправляя на них предопределенные ответы.

## Функциональность

- Автоматическое определение и отображение доступных COM-портов
- Настройка параметров соединения (скорость, битность, паритет, стоп-биты)
- Обработка входящих запросов и формирование ответов
- Поддержка выхода с помощью Ctrl+C

## Требования

- Rust и Cargo
- Windows, Linux или macOS с доступными COM-портами

## Сборка проекта

1. Убедитесь, что у вас установлен Rust и Cargo. Если нет, установите с помощью [rustup](https://rustup.rs/)

2. Клонируйте репозиторий:
   ```
   git clone [URL_репозитория]
   cd VirtualComR
   ```

3. Соберите проект:
   ```
   cargo build --release
   ```

   Исполняемый файл будет создан в директории `target/release/`

## Запуск программы

### Запуск через Cargo:
```
cargo run --release
```

### Запуск исполняемого файла:
```
# Windows
.\target\release\virtualcomr.exe

# Linux/macOS
./target/release/virtualcomr
```

## Алгоритм работы

1. Программа сканирует и выводит список доступных COM-портов
2. Пользователь выбирает порт из списка
3. Пользователь выбирает режим настройки:
   - Настройки по умолчанию (38400 бод, 8 бит, без паритета, 1 стоп-бит)
   - Ручная настройка параметров соединения
4. После установки соединения программа переходит в режим ожидания запросов
5. При получении запроса:
   - Программа отображает полученные данные в шестнадцатеричном формате
   - Обрабатывает запрос в соответствии с заданными правилами
   - Формирует и отправляет ответ (если предусмотрен для данного запроса)
   - Отображает отправленный ответ в шестнадцатеричном формате

## Предопределенные запросы и ответы

Программа распознает следующие запросы:

| Запрос (HEX) | Ответ (HEX) |
|--------------|-------------|
| 01 02 03     | 01 0C       |
| 41          | 20 00       |
| AA BB CC     | DD EE       |
| 01 XX ...    | 01 (XX+10)  |

Для других запросов ответ не отправляется.

## Завершение работы

Для завершения работы программы используйте комбинацию клавиш Ctrl+C. 